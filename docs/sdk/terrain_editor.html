<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>jMonkeyEngine SDK: Terrain Editor :: jMonkeyEngine Docs</title>
    <link rel="canonical" href="https://github.com/mitm001/jme-wiki/settings/docs/sdk/terrain_editor.html">
    <meta name="keywords" content="documentation, sdk, tool, terrain, asset, texture">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../_/css/site.css">
<meta property="og:image" content="https://wiki.jmonkeyengine.org/_/img/iconx128.png">
<meta property="og:description" content="jMonkeyEngine SDK: Terrain Editor">
<meta property="og:title" content="jMonkeyEngine Docs">
<link rel="stylesheet" href="../../_/css/site-extra.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://github.com/mitm001/jme-wiki/settings">
        <img alt="" src="../../_/img/jme-logo.png" height="32" type="image/x-icon">
      </a>
      <div class="navbar-item hide-for-print">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item theme-switch-wrapper">
          <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
          </label>
        </div>
        <a class="navbar-item" href="https://github.com/jmonkeyengine/wiki">Github</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../documentation.html">Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../documentation.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://javadoc.jmonkeyengine.org/v3.3.2-stable">JavaDoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../jme3.html">jMonkeyEngine 3</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Beginner Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_simpleapplication.html">Hello SimpleApplication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_node.html">Hello Node</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_asset.html">Hello Asset</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_main_event_loop.html">Hello Main Event Loop</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_input_system.html">Hello Input System</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_material.html">Hello Material</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_animation.html">Hello Animation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_picking.html">Hello Picking</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_collision.html">Hello Collision</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_terrain.html">Hello Terrain</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_audio.html">Hello Audio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_effects.html">Hello Effects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../jme3/beginner/hello_physics.html">Hello Physics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Intermediate Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/intermediate/best_practices.html">Best Practices</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/intermediate/simpleapplication.html">Simple Application</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/intermediate/optimization.html">Optimization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/faq.html">FAQ</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Math Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/math_for_dummies.html">Math For Dummies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/intermediate/math.html">Math</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/math.html">More Math</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/rotate.html">Rotate</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/math_video_tutorials.html">Math Video Tutorials</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">3D Graphics Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/intermediate/multi-media_asset_pipeline.html">Multi-Media Asset Pipeline</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/scenegraph_for_dummies.html">Scenegraph for Dummies</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/beginner/hellovector.html">Hello Vector</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/intermediate/how_to_use_materials.html">How to Use Materials</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/intermediate/transparency_sorting.html">Transparency and Sorting</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/external/blender.html">Importing from Blender</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../jme3/external/3dsmax.html">Importing from 3DS Max</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../logo.html">Logo Usage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../bsd_license.html">License</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../github_tips.html">Github Tips</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SDK</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../sdk.html">jMonkeyEngine SDK</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Docs</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../documentation.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Wiki UI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../wiki-ui/index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../documentation.html">Docs</a></li>
    <li><a href="terrain_editor.html">jMonkeyEngine SDK: Terrain Editor</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/mitm001/jme-wiki/edit/master/docs/modules/ROOT/pages/sdk/terrain_editor.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">jMonkeyEngine SDK: Terrain Editor</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The terrain editor lets you create, modify, and paint terrain.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="controls"><a class="anchor" href="#controls"></a>Controls</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Terrain controls are the same as the Scene Composer, you rotate the camera with the left mouse button and pan the camera with the right mouse button. Until you select one of the terrain tools in the toolbar, then the controls change for that tool. Then left mouse button will use that tool: painting, raising/lowering terrain, etc. The right mouse button might do something, depending on the tool.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-terrain"><a class="anchor" href="#creating-terrain"></a>Creating Terrain</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To create terrain, first select the <code>Scene</code> directory under your <code>Project Assets</code> folder, right click and select <code><span class="menuseq"><b class="menu">New</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Other</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Scene</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Empty jme3 Scene</b></span></code>. This will generate an empty scene in that directory. Right click this new file and then select <code>Edit Terrain</code>. This will open the new file in the <code>TerrainEditor</code> and display your scenes file structure in the <code>SceneExplorer</code> located at the bottom left window of the SDK. In the <code>SceneExplorer</code> window, select a node (usually your root node) in your scene.<br>
<span class="image"><img src="../_images/sdk/sdk-terrain-tut-selectnode.png" alt="sdk-terrain-tut-selectnode.png" width="" height=""></span><br>
Then click the add terrain button.<br>
<span class="image"><img src="../_images/sdk/sdk-terrain-tut-addterrain.png" alt="sdk-terrain-tut-addterrain.png" width="" height=""></span><br>
This will pop up the <code>Create Terrain</code> wizard that will walk you through the steps for creating terrain. Make sure you decide now how large you want your terrain to be and how detailed you want the textures to be as you cannot change it later on!</p>
</div>
<div class="paragraph">
<p>In order to see the terrain, you will need to add light to your scene. To do this, right-click the root node in the <code>SceneExplorer</code> window and select <code><span class="menuseq"><b class="menu">Add</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Light</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Directional Light</b></span></code>. Alternatively, you can create your terrain and press the <b class="button">Toggle cam light</b> button located in the menu at the top of the open terrain window. You will need to add a light to your scene by code in the <code>simpleinitApp()</code> method later so you can see the terrain.</p>
</div>
<div class="sect2">
<h3 id="step-1-terrain-size"><a class="anchor" href="#step-1-terrain-size"></a>Step 1: Terrain Size</h3>
<div class="paragraph">
<p>Here you determine the size of your terrain, the total size and the patch size. You should probably leave the patch size alone. But the total size should be defined; this is how big your terrain is.</p>
</div>
</div>
<div class="sect2">
<h3 id="step-2-heightmap"><a class="anchor" href="#step-2-heightmap"></a>Step 2: Heightmap</h3>
<div class="paragraph">
<p>Here you can select a heightmap generation technique to give you a default/random look of the terrain. You can also select a heightmap image to pre-define how your terrain looks.
By default, it will give you a flat terrain.</p>
</div>
</div>
<div class="sect2">
<h3 id="step-3-alpha-image-detail"><a class="anchor" href="#step-3-alpha-image-detail"></a>Step 3: Alpha Image Detail</h3>
<div class="paragraph">
<p>This step determines how large the alpha blend images are for your terrain.  The smaller the alpha image, the less detailed you can paint the terrain. Play around with this to see how big you need it to be. Remember that terrain does not have to be that detailed, and is often covered by vegetation, rocks, and other items. So having a really detailed texture is not always necessary.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="modifying-terrain"><a class="anchor" href="#modifying-terrain"></a>Modifying Terrain</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Right now there are two terrain modification tools: raise and lower terrain.<br>
<span class="image"><img src="../_images/sdk/sdk-terrain-raise-lower.png" alt="sdk-terrain-raise-lower.png" width="" height=""></span><br>
There are two sliders that affect how these tools operate:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Radius: how big the brush is</p>
</li>
<li>
<p>Weight/Height: how much impact the brush has</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once a tool is selected, you will see the tool marker (now an ugly wire sphere) on the map where your mouse is. Click and drag on the terrain to see the tool change the height of the terrain.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="painting-terrain"><a class="anchor" href="#painting-terrain"></a>Painting Terrain</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Your terrain comes with one diffuse default texture, and you can have up to 12 total diffuse textures. It also allows you to add normal maps to each texture layer. There can be a maximum of 13 textures, including Diffuse and Normal (3 textures are taken up by alpha maps).</p>
</div>
<div class="paragraph">
<p>All of the textures can be controlled in the Texture Layer table by clicking on the textures.
There are two sliders that affect how the paint tool operates:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Radius: how big the brush is</p>
</li>
<li>
<p>Weight/Height: how much impact the brush has.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="adding-a-new-texture-layer"><a class="anchor" href="#adding-a-new-texture-layer"></a>Adding a new texture layer</h3>
<div class="paragraph">
<p>Adds a new texture layer to the terrain. The will be drawn over top of the other texture layers listed above it in the list.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/sdk/sdk-terrain-addtexture.png" alt="sdk-terrain-addtexture.png" width="" height=""></span></p>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-diffuse-texture"><a class="anchor" href="#changing-the-diffuse-texture"></a>Changing the diffuse texture</h3>
<div class="paragraph">
<p>Click on the diffuse texture image in the texture table. This will pop up a window with the available textures in your assets directory.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/sdk/sdk-terrain-editdiffuse.png" alt="sdk-terrain-editdiffuse.png" width="" height=""></span></p>
</div>
</div>
<div class="sect2">
<h3 id="adding-a-normal-map-to-the-texture-layer"><a class="anchor" href="#adding-a-normal-map-to-the-texture-layer"></a>Adding a normal map to the texture layer</h3>
<div class="paragraph">
<p>When you add a texture layer, by default it does not add a normal map for you. To add one, click on the button next to the diffuse texture for that texture layer. This will pop up the texture browser. Select a texture and hit Ok, and you are done.<br>
<span class="image"><img src="../_images/sdk/sdk-terrain-addnormaltexture.png" alt="sdk-terrain-addnormaltexture.png" width="" height=""></span></p>
</div>
</div>
<div class="sect2">
<h3 id="removing-a-normal-map-from-the-texture-layer"><a class="anchor" href="#removing-a-normal-map-from-the-texture-layer"></a>Removing a normal map from the texture layer</h3>
<div class="paragraph">
<p>To remove a normal map from the texture layer, hit the normal map button for that texture layer again, and deselect the texture. Then hit Ok and the texture should be removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-texture-scale"><a class="anchor" href="#changing-the-texture-scale"></a>Changing the texture scale</h3>
<div class="paragraph">
<p>The field in the table to the right of the diffuse and normal textures for your texture layer is the scale. Changing that value changes the scale of the texture.<br>
<span class="image"><img src="../_images/sdk/sdk-terrain-texturescale.png" alt="sdk-terrain-texturescale.png" width="" height=""></span><br>
You will notice that the scale changes when you switch between Tri-Planar and normal texture mapping. Tri-planar mapping does not use the texture coordinates of the geometry, but real world coordinates. And because of this, in order for the texture to look the same when you switch between the two texture mapping methods, the terrain editor will automatically convert the scales for you.
Essentially if your scale in normal texture coordinates is 16, then for tri-planar gets converted like this: 1/terrainSize/16</p>
</div>
</div>
<div class="sect2">
<h3 id="tri-planar-texture-mapping"><a class="anchor" href="#tri-planar-texture-mapping"></a>Tri-planar texture mapping</h3>
<div class="paragraph">
<p>Tri-planar texture mapping is recommended if you have lots of near-vertical terrain. With normal texture mapping the textures can look stretched because it is rendered on the one plane: X-Z. Tri-planar mapping renders the textures on three planes: X-Z, X-Y, Z-Y; and blends them together based on what plane the normal of the triangle is facing most on.
This makes the terrain look much better, but it does have a performance hit!
Here is an article on tri-planar mapping: <a href="https://developer.nvidia.com/gpugems/GPUGems3/gpugems3_ch01.html">https://developer.nvidia.com/gpugems/GPUGems3/gpugems3_ch01.html</a></p>
</div>
</div>
<div class="sect2">
<h3 id="total-texture-count"><a class="anchor" href="#total-texture-count"></a>Total texture count</h3>
<div class="paragraph">
<p>Terrain will support a maximum of 12 diffuse texture. And a combined total of 13 diffuse and normal maps.
Most video cards are limited to 16 texture units (textures), and 3 are used behind the scenes of the terrain material for alpha blending of the textures, so you are left with a maximum of 13 textures.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generating-terrain-entropies-for-lod"><a class="anchor" href="#generating-terrain-entropies-for-lod"></a>Generating Terrain Entropies for LOD</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are using the recommended PerspectiveLodCalculator for calculating LOD levels of the terrain, then you will want to pre-generate the entropy levels for the terrain. This is a slow process. If they are not pre-generated, the LOD control will generate them for you, but this will lag the user when they load the scene, and the terrain will flicker.
Use the 'Generate Entropies' button to pre-generate the entropies for the terrain, they will be saved with it.
Note that whenever you modify the height of the terrain, you should re-generate the entropies. Of course, don&#8217;t do this every time, but maybe just before you are ready to send the map out for testing.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="loading-terrain-into-your-game"><a class="anchor" href="#loading-terrain-into-your-game"></a>Loading Terrain Into Your Game</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are a few things your code needs to do to load the terrain.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You must first use the asset manager to load the scene, see the <a href="../jme3/beginner/hello_asset.html" class="page">hello asset tutorial</a>.</p>
</li>
<li>
<p>The terrain (as you can see on the left in the editor) is a sub-node of the scene, so you have to write code to investigate the child nodes of the scene until you find the node that is the terrain, see <a href="../jme3/the_scene_graph.html" class="page">this tutorial for scene graph concepts</a>.</p>
</li>
<li>
<p>You also have to set the camera on the LOD control in order for it to work correctly:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">TerrainLodControl lodControl = ((Node)terrain).getControl(TerrainLodControl.class);
            if (lodControl != null)
                lodControl.setCamera(getCamera());</code></pre>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright 2020 jMonkeyEngine Wiki Contributors. Licensed BSD-3.</p>
</footer>
<script src="../../_/js/vendor/docsearch.min.js"></script>
<!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
<script>
var search = docsearch({
  apiKey: '',
  indexName: '',
  inputSelector: '#search-input',
  autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
  algoliaOptions: { hitsPerPage: 10 }
}).autocomplete
search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
function focusSearchInput () { document.querySelector('#search-input').focus() }
if (document.querySelector('.home-link.is-current')) window.addEventListener('load', focusSearchInput)
</script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
